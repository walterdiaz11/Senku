#include <iostream>
#include<stdio.h>
#include <stdlib.h>
using namespace std;
typedef char tablero[100][100];

void inicializarTablero_ingles(tablero tab,int fila,int columna){
  
  for (int f = 0; f < fila; f++){
    for (int c = 0; c < columna; c++){
      if (f == 3 && c == 3){
        tab[f][c] = '+';
      }else{
        if( (f < 2 || f > 4) && (c < 2 || c > 4) ){
          tab[f][c] = ' ' ;
        }else{
          tab[f][c] = 'O';
        }
      }
    }
  }
}

void mostrarTablero(tablero tab, int fila, int columna){
  int numeros;

  for (int f = 0; f < fila; f++){
    if (f == 0){
        for (numeros = 0; numeros <= fila; numeros++){
          if (numeros == 0){
            cout<<"  ";
          }else{
            cout<<" "<<numeros;
          }         
        }cout<<endl;
      }
    cout<<" "<<(f+1);
    for (int c = 0; c < columna; c++){
      cout<<" "<<tab[f][c];
    }
    cout<<endl;
  }
}

int validar_mov(int origenFila, int origenColumna, int destinoFila, int destinoColumna, tablero tab){
  //Que la ficha a mover tenga a su costado alguna ficha
  if( (tab[origenFila-2][origenColumna-1]=='O'|| tab[origenFila][origenColumna-1]=='O') || (tab[origenFila-1][origenColumna-2]=='O' || tab[origenFila-1][origenColumna]=='O')){
//Que la posicion de origen sea O y la de destino +
    if(tab[origenFila - 1][origenColumna - 1] == 'O' && tab[destinoFila - 1][destinoColumna - 1] == '+'){
//Que solo se mueva dos posiciones ya sea vertical, horizontal, arriba o abajo
     if((2 < abs(origenFila-destinoFila)  || abs(origenColumna-destinoColumna) > 2) || (1 == abs(origenFila-destinoFila)  || abs(origenColumna-destinoColumna) == 1)){
     return 0;
     }
    if (origenFila == destinoFila){
        //movimiento derecha ---->
         if ((origenColumna < destinoColumna) && (tab[origenFila-1][origenColumna]!='O')){
          return 0;
         }else{
           //movimiento izquierda <----
          if(tab[origenFila-1][origenColumna-2] !='O'){
          return 0;
          }
         }
         }else{
           return 1;
         }
        if (origenColumna == destinoColumna){
          //movimiento hacia abajo
          if ((origenFila < destinoFila) && (tab[origenFila][origenColumna-1]!='O')){
          return 0;
          }else{
            //movimiento hacia arriba
           if(tab[origenFila-2][origenColumna-1]!='O'){
           return 0;
           }
          }
        }else{
        return 1;
        }

   }else{
     return 0;
   }
   }else{
    return 0;
    }
    return 000;
  }
  

void mover(int origenFila, int origenColumna, int destinoFila, int destinoColumna, tablero tab){
  
  tab[origenFila - 1][origenColumna - 1] = '+';
  tab[destinoFila - 1][destinoColumna - 1] = 'O';

   if (origenFila == destinoFila){
    if (origenColumna < destinoColumna ){
      tab[origenFila - 1][origenColumna] = '+';
    }else{
      tab[origenFila - 1][origenColumna - 2] = '+';
      }
    }
  else{
    if (origenColumna == destinoColumna){
      if (origenFila < destinoFila){
        tab[origenFila][origenColumna - 1] = '+';
      }else{
        tab[origenFila - 2][origenColumna - 1] = '+';
        }
      }
    }
  }


/*void final_juego(tablero tab,int fila,int columna){
  int cuentaFichas = 0;

  for (int f = 0; f < fila; f++){
    for (int c = 0; c < columna; c++){
      if(tab[f][c] == 'O'){
        cuentaFichas++;
      }
    }
  }

  if (cuentaFichas == 1){
    cout<<"Ganaste!!!!! :) :) :) ";
  }else{
    if(cuentaFichas>=2 && cuentaFichas<8){
       for (int f = 0; f < fila; f++){
       for (int c = 0; c < columna; c++){
        if((tab[f-1][c]!='O'|| tab[f+1][c]!='O') || (tab[f][c+1]!='O' || tab[f][c-1]!='O')){
        cout<<"Perdiste :( :( :( ";
        cout<<endl;
       }
      }
    }
}*/

void jugar_ingles(){
tablero tab;
inicializarTablero_ingles(tab,7,7);
mostrarTablero(tab,7,7);
int origenFila, origenColumna, destinoFila, destinoColumna, movimientoValido, entrada=1;

  while(entrada != 0){
    cout<<"\nIngresa la posición de origen (fila):";
    cin>>origenFila;
    cout<<"\nIngresa la posición de origen (columna):";
    cin>>origenColumna;
    cout<<endl;

    cout<<"Ingrese la posición de destino (fila):";
    cin>>destinoFila;
    cout<<"\nIngrese la posición de destino (columna):";
    cin>>destinoColumna;
    cout<<endl;

    movimientoValido = validar_mov(origenFila,origenColumna,destinoFila,destinoColumna,tab);
      if(movimientoValido==1){
        mover(origenFila,origenColumna,destinoFila,destinoColumna,tab);
        mostrarTablero(tab,7,7);
      }else{
        cout<<"\nMovimiento inválido\n";
        cout<<endl;
        mostrarTablero(tab,7,7);
      }

    //final_juego(tab,7,7);  
    }
}
  

void inicializarTablero_aleman(tablero tab,int fila, int columna){
  
  for (int f = 0; f < fila; f++){
    for (int c = 0; c < columna; c++){
      if (f == 4 && c == 4){
        tab[f][c] = '+';
      }else{
        if( (f < 3 || f > 5)&&(c < 3 || c > 5) ){
          tab[f][c] = ' ' ;
        }else{
          tab[f][c] = 'O';
        }
      }
    }
  }
}

void jugar_aleman(){
tablero tab;
inicializarTablero_aleman(tab,9,9);
mostrarTablero(tab,9,9);
int origenFila, origenColumna, destinoFila, destinoColumna, movimientoValido, entrada=1;

  while(entrada != 0){
    cout<<"\nIngresa la posición de origen (fila):";
    cin>>origenFila;
    cout<<"\nIngresa la posición de origen (columna):";
    cin>>origenColumna;
    cout<<endl;

    cout<<"Ingrese la posición de destino (fila):";
    cin>>destinoFila;
    cout<<"\nIngrese la posición de destino (columna):";
    cin>>destinoColumna;
    cout<<endl;

    movimientoValido = validar_mov(origenFila,origenColumna,destinoFila,destinoColumna,tab);
      if(movimientoValido==1){
        mover(origenFila,origenColumna,destinoFila,destinoColumna,tab);
        mostrarTablero(tab,9,9);
      }else{
        cout<<"\nMovimiento inválido\n";
        cout<<endl;
        mostrarTablero(tab,9,9);
      }

     //final_juego(tab,9,9);  
   }
}

void inicializarTablero_asimetrico(tablero tab, int fila, int columna){

  for (int f = 0; f < fila; f++){
    for (int c = 0; c < columna; c++){
      if (f == 4 && c == 3){
        tab[f][c] = '+';
      }else{
        if( (f < 3 || f > 5)&&(c < 2 || c > 4) ){
          tab[f][c] = ' ' ;
        }else{
          tab[f][c] = 'O';
        }
      }
    }
  }
}


void jugar_asimetrico(){
tablero tab;
inicializarTablero_asimetrico(tab,8,8);
mostrarTablero(tab,8,8);
int origenFila, origenColumna, destinoFila, destinoColumna, movimientoValido, entrada=1;

  while(entrada != 0){
    cout<<"\nIngresa la posición de origen (fila):";
    cin>>origenFila;
    cout<<"\nIngresa la posición de origen (columna):";
    cin>>origenColumna;
    cout<<endl;

    cout<<"Ingrese la posición de destino (fila):";
    cin>>destinoFila;
    cout<<"\nIngrese la posición de destino (columna):";
    cin>>destinoColumna;
    cout<<endl;

    movimientoValido = validar_mov(origenFila,origenColumna,destinoFila,destinoColumna,tab);
      if(movimientoValido==1){
        mover(origenFila,origenColumna,destinoFila,destinoColumna,tab);
        mostrarTablero(tab,8,8);
      }else{
        cout<<"\nMovimiento inválido\n";
        cout<<endl;
        mostrarTablero(tab,8,8);
      }

     //final_juego(tab,8,8);   
   }
}


void menu(){
  int opcion;

  cout<<"\n Menú:        JUEGO   SENKU     ";cout<<endl;
  cout<<"-----------------------------------------------------------";
cout<<endl;
cout<<"1.Estilo Inglés";
cout<<"\n2.Estilo Alemán";
cout<<"\n3.Estilo Asimétrico";
cout<<endl;
cout<<"-----------------------------------------------------------";
cout<<"\n0.Salir del programa";
cout<<endl;
cout<<endl;
cout<<"Seleccionar una opción:";cin>>opcion;
 if(opcion==1){
 cout<<endl;
 jugar_ingles();
 }if(opcion==2){
 cout<<endl;
 jugar_aleman();
 }if(opcion==3){
 cout<<endl;
 jugar_asimetrico();
 }if(opcion==0){
 cout<<"\nVuelve cuando quieras!!!!!   :) :) :) ";
 }else 
 cout<<"Entrada inválida";cout<<endl;
}

int main(){
  menu();
  return 0;
}
